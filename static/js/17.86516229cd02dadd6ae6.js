webpackJsonp([17],{"8TGK":function(e,t){},Hl1L:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=i(s("Xxa5")),a=i(s("exGp"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={components:{},data:function(){return{addressList:[],type:0,showAddAddressPopup:!1,selectQuantity:1,addressInfo:{name:"",tel:"",addressDetail:"",is_default:0}}},activated:function(){var e=this;return(0,a.default)(d.default.mark(function t(){return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getAddressList();case 1:case"end":return t.stop()}},t,e)}))()},methods:{getAddressList:function(){var e=this;this.$api.get("address/index",{page:1,limit:99999}).then(function(t){e.addressList=t.data.list})},operation:function(e,t){this.type=e,1==e?(this.addressInfo.id=t.id,this.addressInfo.name=t.name,this.addressInfo.tel=t.phone,this.addressInfo.addressDetail=t.address,this.addressInfo.is_default=t.is_default):this.empty(),this.showAddAddressPopup=!0},onSubmit:function(e){var t=this;0==this.type?this.$api.post("address/add",{name:this.addressInfo.name,phone:this.addressInfo.tel,address:this.addressInfo.addressDetail,is_default:0,area:"86"}).then(function(e){200==e.code&&(t.$toast(t.$t("index.text45")),t.getAddressList(),t.empty(),t.showAddAddressPopup=!1)}):this.$api.post("address/edit",{id:this.addressInfo.id,name:this.addressInfo.name,phone:this.addressInfo.tel,address:this.addressInfo.addressDetail,is_default:0}).then(function(e){200==e.code&&(t.$toast(t.$t("index.text46")),t.getAddressList(),t.empty(),t.showAddAddressPopup=!1)})},deleteAddress:function(e){var t=this;this.$dialog.confirm({title:this.$t("index.text47")}).then(function(){t.$api.get("address/del",{id:e.id}).then(function(e){t.$toast(t.$t("index.text48")),t.getAddressList()})}).catch(function(){})},defaultAddress:function(e){var t=this;this.$api.post("address/edit",{id:e.id,is_default:1}).then(function(e){t.$toast(t.$t("index.text49")),t.getAddressList()})},empty:function(){this.addressInfo.id=void 0,this.addressInfo.name=void 0,this.addressInfo.tel=void 0,this.addressInfo.addressDetail=void 0,this.addressInfo.is_default=0}}}},LEn8:function(e,t,s){"use strict";var d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"addressManagement"},[s("div",{staticClass:"addressManagementHeader"},[s("div",{staticClass:"headerContent"},[s("van-icon",{attrs:{name:"arrow-left"},on:{click:function(t){return e.$router.go(-1)}}}),e._v(" "),s("span",{staticClass:"title"},[e._v(e._s(e.$t("index.text39")))]),e._v(" "),s("div",{staticClass:"right jcc",on:{click:function(t){return e.operation(0)}}},[s("van-icon",{attrs:{name:"plus"}}),e._v(" "),s("span",[e._v(e._s(e.$t("index.text40")))])],1)],1)]),e._v(" "),s("div",{staticClass:"slot"}),e._v(" "),s("div",{staticClass:"addressManagementMain"},e._l(e.addressList,function(t){return s("div",{key:t.id,staticClass:"receivingAddress"},[s("div",[s("div",{staticClass:"userInfo jcsb"},[s("span",[e._v(e._s(t.name))]),e._v(" "),s("span",[e._v(e._s(t.phone))])]),e._v(" "),s("div",{staticClass:"userAddress mt2r"},[e._v("\n          "+e._s(t.address)+"\n        ")])]),e._v(" "),s("div",{staticClass:"line"}),e._v(" "),s("div",{staticClass:"edit jcsb"},[s("div",{staticClass:"editItem"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0==t.is_default,expression:"item.is_default == 0"}],on:{click:function(s){return e.defaultAddress(t)}}},[e._v(e._s(e.$t("index.text41")))]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.is_default,expression:"item.is_default == 1"}],staticStyle:{color:"#D12C21"}},[e._v(e._s(e.$t("index.text42")))]),e._v(" "),s("van-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.is_default,expression:"item.is_default == 1"}],attrs:{name:"success",color:"#D12C21",size:"1.5rem"}})],1),e._v(" "),s("div",{staticClass:"editItem",on:{click:function(s){return e.operation(1,t)}}},[s("i",{staticClass:"el-icon-edit-outline"}),e._v(" "),s("span",[e._v(e._s(e.$t("index.text43")))])]),e._v(" "),s("div",{staticClass:"editItem",on:{click:function(s){return e.deleteAddress(t)}}},[s("i",{staticClass:"el-icon-delete"}),e._v(" "),s("span",[e._v(e._s(e.$t("index.text44")))])])])])}),0),e._v(" "),s("van-popup",{staticClass:"showAddAddressPopup",attrs:{position:"bottom"},model:{value:e.showAddAddressPopup,callback:function(t){e.showAddAddressPopup=t},expression:"showAddAddressPopup"}},[s("van-form",{on:{submit:e.onSubmit}},[s("van-field",{attrs:{name:e.$t("index.text50"),label:e.$t("index.text50"),placeholder:e.$t("index.text51"),rules:[{required:!0}]},model:{value:e.addressInfo.name,callback:function(t){e.$set(e.addressInfo,"name",t)},expression:"addressInfo.name"}}),e._v(" "),s("van-field",{attrs:{name:e.$t("index.text52"),label:e.$t("index.text52"),placeholder:e.$t("index.text53"),rules:[{required:!0}]},model:{value:e.addressInfo.tel,callback:function(t){e.$set(e.addressInfo,"tel",t)},expression:"addressInfo.tel"}}),e._v(" "),s("van-field",{attrs:{autosize:"",name:e.$t("index.text54"),label:e.$t("index.text54"),type:"textarea",placeholder:e.$t("index.text55"),rules:[{required:!0}]},model:{value:e.addressInfo.addressDetail,callback:function(t){e.$set(e.addressInfo,"addressDetail",t)},expression:"addressInfo.addressDetail"}}),e._v(" "),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(e._s(e.$t("index.text10")))])],1)],1)],1)],1)},staticRenderFns:[]};t.a=d},WblQ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=s("Hl1L"),a=s.n(d);for(var i in d)"default"!==i&&function(e){s.d(t,e,function(){return d[e]})}(i);var n=s("LEn8");var r=function(e){s("8TGK")},o=s("VU/8")(a.a,n.a,!1,r,"data-v-1f137b1e",null);t.default=o.exports}});
//# sourceMappingURL=17.86516229cd02dadd6ae6.js.map