{"version":3,"sources":["webpack:///./src/view/personalCenter/sellingRecords.vue","webpack:///./src/view/personalCenter/sellingRecords.vue?beb4","webpack:///src/view/personalCenter/sellingRecords.vue"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_sellingRecords_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_sellingRecords_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_79f221aa_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_sellingRecords_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","esExports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","on","click","$event","$router","go","_v","_s","$t","_l","item","investTime","USDT","HL","HF","createtime","sell_type","_e","staticRenderFns","data","recordsList","hl","activated","onLoad","getBalance","methods","getFullTime","timeStamp","_moment2","default","format","_this","_asyncToGenerator3","_regenerator2","mark","_callee","wrap","_context","prev","next","core","hlContract","balanceOf","userAddress","call","sent","fromWei","stop","selling","_this2","_callee2","gasPrice","gas2","gas","_context2","$toast","loading","duration","forbidClick","message","className","getGasPrice","approve","coreAddress","toWei","estimateGas","send","from","coreContract","sellHL","HLAmount","t0","clear","setErrDialog","_this3","_callee3","res","_context3","$api","get","page","limit","type","list"],"mappings":"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","file":"static/js/11.bbefa1bf4f4545493d8a.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79f221aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sellingRecords.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sellingRecords.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sellingRecords.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79f221aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sellingRecords.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79f221aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/personalCenter/sellingRecords.vue\n// module id = 9K9/\n// module chunks = 11","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"purchaseRecords\"},[_c('div',{staticClass:\"purchaseRecordsHeader\"},[_c('div',{staticClass:\"headerContent\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t(\"index.text168\")))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"slot\"}),_vm._v(\" \"),_c('div',{staticClass:\"purchaseRecordsMain\"},_vm._l((_vm.recordsList),function(item){return _c('div',{key:item.investTime,staticClass:\"rewardItem jcsb\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"reward\"},[_vm._v(\"+\"+_vm._s(item.USDT)+\"U\")]),_vm._v(\" \"),_c('div',{staticClass:\"reward\"},[_vm._v(\"-\"+_vm._s(item.HL)+\"HL\")]),_vm._v(\" \"),_c('div',{staticClass:\"reward\"},[_vm._v(_vm._s(_vm.$t(\"index.text173\"))+_vm._s(item.HF))]),_vm._v(\" \"),_c('div',{staticClass:\"tiem\"},[_vm._v(_vm._s(item.createtime))])]),_vm._v(\" \"),(item.sell_type == 1)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"index.text174\"))+\"\\n      \")]):(item.sell_type == 2)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"index.text175\"))+\"\\n      \")]):(item.sell_type == 3)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"index.text176\"))+\"\\n      \")]):_vm._e()])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79f221aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/personalCenter/sellingRecords.vue\n// module id = EuuB\n// module chunks = 11","<template>\n  <div class=\"purchaseRecords\">\n    <div class=\"purchaseRecordsHeader\">\n      <div class=\"headerContent\">\n        <van-icon name=\"arrow-left\" @click=\"$router.go(-1)\" />\n        <span>{{ $t(\"index.text168\") }}</span>\n      </div>\n    </div>\n    <div class=\"slot\"></div>\n\n    <div class=\"purchaseRecordsMain\">\n      <!-- <div class=\"rewardItem jcsb\" v-for=\"item in recordsList\" :key=\"item.id\">\n        <div class=\"left\">\n          <div class=\"reward\">-{{ item.HL }}HL</div>\n          <div class=\"tiem\">{{ item.createtime }}</div>\n        </div>\n      </div> -->\n      <!-- recordsList.orders -->\n      <div\n        class=\"rewardItem jcsb\"\n        v-for=\"item in recordsList\"\n        :key=\"item.investTime\"\n      >\n        <div class=\"left\">\n          <!-- <div class=\"reward\">+{{ fromWei(item.usdtAmount) }}U</div>\n          <div class=\"reward\">-{{ fromWei(item.HLAmount) }}HL</div>\n          <div class=\"reward\">价格:{{ fromWei(item.newPrice) }}</div>\n          <div class=\"tiem\">{{ getFullTime(item.investTime) }}</div> -->\n\n          <div class=\"reward\">+{{ item.USDT }}U</div>\n          <div class=\"reward\">-{{ item.HL }}HL</div>\n          <div class=\"reward\">{{ $t(\"index.text173\") }}{{ item.HF }}</div>\n          <div class=\"tiem\">{{ item.createtime }}</div>\n        </div>\n\n        <div v-if=\"item.sell_type == 1\">\n          {{ $t(\"index.text174\") }}\n        </div>\n        <div v-else-if=\"item.sell_type == 2\">\n          {{ $t(\"index.text175\") }}\n        </div>\n        <div v-else-if=\"item.sell_type == 3\">\n          {{ $t(\"index.text176\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nexport default {\n  data() {\n    return {\n      recordsList: [],\n      hl: 0\n    };\n  },\n  activated() {\n    this.onLoad();\n    this.getBalance();\n  },\n  methods: {\n    getFullTime(timeStamp) {\n      const time = moment(timeStamp * 1000).format(\"YYYY-MM-DD HH:mm:ss\");\n      return time;\n    },\n    async getBalance() {\n      let hl = await this.core\n        .hlContract()\n        .balanceOf(this.userAddress)\n        .call();\n      this.hl = this.fromWei(hl);\n    },\n    async selling(item) {\n      this.$toast.loading({\n        duration: 0,\n        forbidClick: true,\n        message: this.$t(\"index.text21\"),\n        className: \"loading\"\n      });\n\n      try {\n        let gasPrice = await this.getGasPrice();\n\n        let gas2 = await this.core\n          .hlContract()\n          .approve(this.core.coreAddress, this.toWei(this.hl))\n          .estimateGas();\n        await this.core\n          .hlContract()\n          .approve(this.core.coreAddress, this.toWei(this.hl))\n          .send({\n            from: this.userAddress,\n            gas: gas2 + 5000,\n            gasPrice: gasPrice\n          });\n        let gas = await this.core\n          .coreContract()\n          .sellHL(item.HLAmount, 1)\n          .estimateGas();\n        await this.core\n          .coreContract()\n          .sellHL(item.HLAmount, 1)\n          .send({\n            from: this.userAddress,\n            gas: gas + 10000,\n            gasPrice: gasPrice\n          });\n        this.$toast(this.$t(\"index.text154\"));\n        this.onLoad();\n      } catch (error) {\n        this.$toast.clear();\n        this.setErrDialog(error);\n      }\n    },\n\n    async onLoad() {\n      // this.recordsList = await this.core\n      //   .coreContract()\n      //   .getSellhistory(this.userAddress)\n      //   .call();\n\n      let res = await this.$api.get(\"transactionlog/index\", {\n        page: 1,\n        limit: 1000000,\n        type: 2\n      });\n      this.recordsList = res.data.list;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"less\" scoped>\n.purchaseRecords {\n  height: 100%;\n  overflow: scroll;\n  background: #ffffff;\n}\n.purchaseRecordsHeader {\n  padding: 0 2rem;\n  background: #d12c21;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 5rem;\n  z-index: 99;\n\n  .headerContent {\n    display: flex;\n    align-items: center;\n    position: relative;\n    height: 5rem;\n  }\n  .van-icon {\n    font-size: 1.8rem;\n    color: #fff;\n  }\n  .icon {\n    position: absolute;\n    right: 0;\n    width: 2rem;\n    height: 2rem;\n  }\n  span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: #fff;\n    font-size: 1.6rem;\n  }\n}\n\n.purchaseRecordsMain {\n  padding: 0 2rem 4rem 2rem;\n\n  .rewardItem {\n    height: 10rem;\n    border-bottom: 0.1rem solid #d9d9d9;\n    padding: 1.6rem 0;\n    .left {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      height: 100%;\n\n      .reward {\n        font-weight: bold;\n        font-size: 1.6rem;\n      }\n      .reward1 {\n        font-weight: bold;\n        color: #d12c21;\n        font-size: 1.6rem;\n      }\n      .tiem {\n        color: #666666;\n      }\n    }\n    .center {\n      font-weight: bold;\n      color: #d12c21;\n      font-size: 1.6rem;\n    }\n\n    .right {\n      height: 3.8rem;\n      background: linear-gradient(134deg, #d12c21 0%, #f5c96d 100%);\n      border-radius: 2rem;\n      color: #fff;\n      padding: 0 2.2rem;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/personalCenter/sellingRecords.vue"],"sourceRoot":""}